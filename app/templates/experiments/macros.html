{% macro render_experiment_card(experiment, title_link=False) %}
<div className="card container-fluid">
  <div className="row">
    <div className="col col-sm-2 d-flex flex-column justify-content-center">
      <div className="container-fluid p-2">
        <img
          className="animated-gif img-fluid"
          alt="experiment image"
          src="{{ (experiment.image_file and url_for('experiments.download_file', name=experiment.image_file)) or url_for('static', filename='img/brain.gif') }}"
        />
      </div>
    </div>
    <div className="col col-lg-7 card-body d-flex p-2">
      <div className="d-flex flex-column justify-content-center">
        <h5 className="card-title text-card-title">
          {% if title_link %}
          <a className="text-reset" href="{{ url_for('experiments.view', experiment_id=experiment.id) }}"
            >{{ experiment.title }}</a
          >
          {% else %}
          <span className="text-reset">{{ experiment.title }}</span>
          {% endif %}
        </h5>
        <div>
          {% for props in [['creators', 'description'], ['version', 'date_added', 'date_updated'], ['modalities',
          'primary_software', 'primary_function'], ['doi'], ['license']] %}
          <ul className="d-flex align-items-start">
            {% for prop in props %}
            <li className="card-list-item">
              <strong className="text-capitalize">{{ prop.replace('_', ' ') }}: </strong>
              {% if prop == 'doi' and experiment[prop] != 'NA' %}
              <a target="_blank" referrerpolicy="no-referrer" href="{{ experiment[prop] }}">{{ experiment[prop] }}</a>
              {% elif experiment[prop].__className__.__name__ == 'list' %} {{ ', '.join(experiment[prop]) }} {% elif
              experiment[prop].__className__.__name__ == 'datetime' %} {{ experiment[prop].date().isoformat() }} {% else %}
              {{ experiment[prop] }} {% endif %}
            </li>
            {% endfor %}
          </ul>
          {% endfor %}
        </div>
        <div className="py-1">
          <ul className="d-flex align-items-start">
            <li className="card-list-item"><strong>Files: </strong>{{ experiment.number_repository_files }}</li>
            <li className="card-list-item"><strong>Size: </strong>{{ experiment.size_repository_files }}</li>
          </ul>
        </div>
      </div>
    </div>
    <div className="col col-lg-3 p-2">
      <div className="container-fluid d-flex flex-column justify-content-center h-100">
        <div className="d-flex flex-column align-items-center my-2">
          <i className="fa fa-eye fa-2x" aria-hidden="true"></i>
          {{ experiment.views }}
        </div>
        <div className="d-flex flex-column align-items-center">
          <i className="fa fa-download fa-2x" aria-hidden="true"></i>
          {{ experiment.downloads }}
        </div>
      </div>
    </div>
  </div>
</div>
{% endmacro %}
