<div class="searchbar d-flex">
  <div class="container-fluid">
    <div class="row">
      <div class="col-md-auto p-0">
        <div class="dropdown d-flex p-2 w-100 justify-content-center justify-content-lg-start justify-content-xl-start flex-wrap">
          <span class="text-nowrap m-2">Filter By:</span>
          <div class="d-flex">
            {% for key, filter in filters.items() %}
              <div class="dropdown mr-2">
                {% set menu_button_id = key + "DropdownMenuButton" %}
                <button class="btn btn-outline-secondary dropdown-toggle p-2 mx-1" type="button" id="{{ menu_button_id }}" data-toggle="dropdown">
                  {{ filter.label }}
                </button>
                <div class="dropdown-menu">
                  {% for name, active in filter.options.items() %}
                    <div class="dropdown-item">
                      <div class="form-check">
                        {% set checkbox_id = key + name + "checkbox" %}
                        <input {{ "checked" if active else "" }} class="form-check-input" name="{{ key }}" value="{{ name }}" type="checkbox" id="{{ checkbox_id }}" onchange="experiments.handleCheckboxChange(event)">
                        <label class="form-check-label w-100" for="{{ checkbox_id }}">{{ name }}</label>
                      </div>
                    </div>
                  {% endfor %}
                </div>
              </div>
            {% endfor %}
          </div>
        </div>
      </div>
      <div class="col p-0">
        <div class="d-flex flex-fill justify-content-center align-items-center h-100">
          <form class="input-group m-2" method="get" role="form" onsubmit="experiments.handleSubmitSearch(event)">
            <input required name="search_term" type="text" class="form-control" placeholder="Search">
            <div class="input-group-append">
              <button class="border-0 p-0" type="submit">
                <i class="fa fa-search input-group-text" style="border-top-left-radius: 0px; border-bottom-left-radius: 0px;"></i>
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
